# NBU-coins-soft

## Опис
Цей скрипт автоматично виконує моніторинг веб-сайту, авторизується під вказаними обліковими записами та перевіряє наявність певної монети у каталозі. Якщо монета доступна, вона додається в кошик, а скрипт завершує роботу.

## Вимоги
- Node.js (>=16.0.0)
- NPM або Yarn
- Файл `.env` із необхідними змінними середовища

## Налаштування
### 1. Встановлення залежностей
Перед використанням потрібно встановити необхідні пакети:
```sh
npm install puppeteer-real-browser dotenv
```

### 2. Створення файлу `.env`
Створи файл `.env` у кореневій директорії та додай туди наступні змінні:
```ini
SITE_LINK=https://example.com  # Посилання на сайт
SUBSCRIPTION=123456  # ID монети для відстеження
ACCOUNTS=email1@example.com:password1;email2@example.com:password2  # Список облікових записів
```

## Запуск
Виконай команду:
```sh
node -r dotenv/config browser-task.js
```

## Як працює скрипт
1. Підключається до браузера через Puppeteer.
2. Авторизується на сайті за допомогою облікових даних з `.env`.
3. Перевіряє наявність монети з вказаним `SUBSCRIPTION` ID.
4. Якщо монета доступна, додає її в кошик та завершує роботу.
5. Якщо монета недоступна, перевіряє сторінку кожні 700 мс.
6. Після успішного додавання монети скрипт чекає 15 хвилин перед завершенням.

## Додаткові налаштування
- Скрипт працює у не-headless режимі (`headless: false`), що дозволяє бачити процес у браузері.
- Автоматично вводить email і пароль.
- Використовує `waitUntil: "networkidle2"` для очікування повного завантаження сторінки.

## Примітки
- Переконайся, що сайт не має додаткових механізмів захисту (наприклад, капчі), які можуть заблокувати роботу скрипта.
- Якщо виникають помилки, перевір правильність змінних у `.env` та наявність Puppeteer у проєкті.

